(window.webpackJsonpvegareader=window.webpackJsonpvegareader||[]).push([[26],{1485:function(e,t,n){"use strict";n.r(t);var a=n(44),r=n(9),o=n(10),i=n(27),l=n(26),c=n(0),s=n.n(c),d=n(6),p=n(13),u=n.n(p),h=n(293),m=n(8),f=n(136),g=n(1),v=g.wb,O=g.Ab,w=g.kb,S=g.jb,k=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).getAppBarColor=function(){var e=a.props.color;return a.props.isChapterOpener&&a.getCurrentScrollPosition()<a.getChapterOpenerHeight()-50&&(e=a.state.color),e},a.getChapterOpenerHeight=function(){var e=a.props.chapterOpenerSelector;return document.querySelector(e)&&document.querySelector(e).clientHeight},a.getCurrentScrollPosition=function(){var e=window.pageYOffset;return a.filmStrip&&a.element&&(e=a.element.scrollTop),e},a.handleContentLoaded=function(){a.filmStrip=document.querySelector(".filmstrip-wrapper-viewer"),a.slateHeader=document.querySelector(".container .heading1NummerEins"),a.filmStrip?a.element=document.querySelectorAll(".filmstrip-wrapper-viewer .page-content")[0]:a.element=window;var e=a.props,t=e.isChapterOpener,n=e.titleData;a.element.addEventListener("scroll",a.handleScroll,!1),t?a.setState({headerTitle:"",color:"transparent"}):a.setState({headerTitle:n.chapterTitle})},a.handleScroll=function(){var e=a.props.titleData,t=e.pageTitle,n=e.chapterTitle;a.slateHeader&&!a.props.isChapterOpener?a.getCurrentScrollPosition()>a.slateHeader.clientHeight+30?a.setData(t):a.setData(n):a.getCurrentScrollPosition()>a.getChapterOpenerHeight()-50?a.setData(t,a.props.color):a.setData("","transparent")},a.setData=function(e,t){a.setState((function(n){return{headerTitle:e,color:t||n.color}}))},a.state={headerTitle:"",color:"transparent"},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){document.body.addEventListener("contentLoaded",this.handleContentLoaded),this.epubDocumentLoadSubscription=u.a.on("epub-page-loaded",this.handleContentLoaded),document.body.addEventListener("spdfcontentLoaded",this.handleContentLoaded)}},{key:"componentWillUnmount",value:function(){this.element&&this.element.removeEventListener("scroll",this.handleScroll,!1),this.epubDocumentLoadSubscription&&this.epubDocumentLoadSubscription(),document.body.removeEventListener("contentLoaded",this.handleContentLoaded),document.body.removeEventListener("spdfcontentLoaded",this.handleContentLoaded)}},{key:"render",value:function(){var e,t=this.props,n=t.bookmarkIconRef,r=t.bookmarkOn,o=t.classes,i=t.config,l=t.drawerOpen,c=t.drawerSelectedPanel,p=t.drawerState,u=t.hasMediaOverlay,h=t.isOverflowMenuOpen,m=t.locale,v=t.mediaOverlayPlay,O=t.menuItemsEnd,w=t.menuItemsStart,S=t.onBookmarkClick,k=t.onMediaOverlayClick,b=t.onOverflowMenuClick,C=t.showDrawer,y=t.showMediaOverlay,L=t.userInitial,M=t.theme,H=Object(d.default)("vega-reader-header",o.vegaHeader,(e={},Object(a.a)(e,o.vegaHeaderShift,l),Object(a.a)(e,o.vegaHeaderMinimizePanelShift,c===g.Q||c===g.M&&p===g.Y),Object(a.a)(e,o.vegaHeaderHiddenMenu,!C),e));return s.a.createElement("div",{className:H},s.a.createElement(f.VegaAppBarComponent,{bookmarkIconRef:n,bookmarkOn:r,color:this.getAppBarColor(),config:i,drawerOpen:l,hasMediaOverlay:u,hideBookmarkTag:!0,isOverflowMenuOpen:h,locale:m,mediaOverlayPlay:v,menuItemsEnd:O,menuItemsStart:w,onBookmarkClick:S,onMediaOverlayClick:k,onOverflowMenuClick:b,showMediaOverlay:y,title:this.state.headerTitle,userInitial:L,theme:M}))}}]),n}(c.PureComponent);k.defaultProps={bookmarkIconRef:function(){},bookmarkOn:!1,chapterOpenerSelector:"header.alt",color:"default",config:{hideBookmark:!1,hideOverflowMenu:!1},drawerOpen:!1,drawerState:"",drawerSelectedPanel:"",hasMediaOverlay:!1,isChapterOpener:!1,isOverflowMenuOpen:!1,locale:g.K,mediaOverlayPlay:!1,menuItemsEnd:null,menuItemsStart:null,onBookmarkClick:function(){},onMediaOverlayClick:function(){},onOverflowMenuClick:function(){},showDrawer:!1,showMediaOverlay:!1},t.default=Object(h.a)(Object(m.a)((function(e){return{vegaHeader:{width:"calc(100% - ".concat(94,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.leavingScreen})},vegaHeaderHiddenMenu:{width:"100%"},vegaHeaderShift:{width:"calc(100% - ".concat(parseInt(v,10),"px)"),marginLeft:"".concat(v,"px"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},vegaHeaderMinimizePanelShift:{width:"calc(100% - ".concat(parseInt(O,10),"px)"),marginLeft:"".concat(O,"px")},filmstripHeaderShift:{width:"calc(100% - ".concat(w,"px)"),marginLeft:"".concat(w,"px"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},filmstripExpandHeaderShift:{width:"calc(100% - ".concat(S,"px)"),marginLeft:"".concat(S,"px"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}}}))(k))}}]);