(window["webpackJsonpone-reader"]=window["webpackJsonpone-reader"]||[]).push([[4],{1070:function(e,t){},1335:function(e,t,a){},1893:function(e,t,a){"use strict";a.r(t);var o=a(16),n=a(17),s=a(26),l=a(25),i=a(0),c=a.n(i),r=a(14),d=(a(6),a(992)),p=a(70),m=(a(1335),a(3)),u=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fetchRegionData=function(e){n.onHotspotCloseButton();var t=p.a.getRegionDetails(e);"IMAGE"===t.hotspotType||"VIDEO"===t.hotspotType||"AUDIO"===t.hotspotType?n.setState({regionData:t},(function(){if("IMAGE"===n.state.regionData.hotspotType){var e=document.getElementsByClassName("preview-image")[0];e.style.display="none";try{e.click()}catch(a){}document.getElementById("hotspot").className="hotspotContent"}else if("VIDEO"===n.state.regionData.hotspotType){var t=document.getElementsByClassName("poster-play-icon")[0];t.style.display="none",document.getElementsByClassName("thumb-nail")[0].style.display="none";try{document.getElementsByClassName("regionContainer")[0].style.display="block",t.click()}catch(a){}document.getElementById("hotspot").className="videoContent"}else if("AUDIO"===n.state.regionData.hotspotType&&n.state.regionData.linkTypeId===m.He.LINK_TYPE.FACELESSAUDIO){try{document.getElementById("hotspot").className="hotspotContent",document.getElementsByClassName("aquila-audio-player")[0].style.display="none"}catch(a){}document.getElementById("hotspot").className="hotspotContent"}if("AUDIO"===n.state.regionData.hotspotType&&n.state.regionData.linkTypeId!==m.He.LINK_TYPE.FACELESSAUDIO){try{document.getElementsByClassName("aquila-audio-player")[0].style.display="flex",document.getElementsByClassName("regionContainer")[0].style.display="block",document.getElementById("regionCloseBtn").style.display="block",window.jQuery(".regionContainer").draggable({containment:"#root"})}catch(a){}document.getElementById("hotspot").className="hotspotContent"}})):n.renderHotspot(t)},n.renderHotspot=function(e){var t,a,o=" ",s=e.linkTypeId===m.He.LINK_TYPE.FACELESSAUDIO;switch(e.hotspotType){case"AUDIO":t={audioSrc:a=p.a.createHttps(e.linkUri),audioTitle:e.title},o=c.a.createElement(d.AudioPlayer,{url:t.audioSrc,title:t.audioTitle,onClose:n.onHotspotCloseButton,autoPlay:!0,facelessAudio:s});break;case"PAGENUMBER":var l=n.props.pagePlaylist.find((function(t){return t.pagenumber===e.linkUri}));n.props.goToPageNumber(l&&l.playOrder);break;case"EMAIL":window.location="mailto:".concat(e.linkUri);break;case"IMAGE":a=p.a.createHttps(e.linkUri),t={alt:e.name,src:a,title:e.name,items:e},o=c.a.createElement(d.ImageViewerPreview,{data:t,onClose:n.onHotspotCloseButton});break;case"VIDEO":a=p.a.createHttps(e.linkUri),t={title:e.name,src:a,caption:e.description||"",id:e.regionId,anonymous:!1,thumbnail:{src:""},alt:e.name},o=c.a.createElement(d.VideoPlayerPreview,{data:t,embeddedMode:!1,standAloneMode:!0,onClose:n.onHotspotCloseButton});break;case"SPPASSET":a=e.linkUri;var i=document.getElementById("sppModalHeader").style.height,r=document.getElementById("sppModalBody"),u=a.lastIndexOf("/"),y=a.slice(u+1),g="https://mediaplayer.pearsoncmg.com/assets/_embed.sppModalBody/".concat(y),E=document.createElement("SCRIPT"),h=document.getElementById("sppModal"),I=document.getElementById("root");document.getElementById("sppTitle").innerText=e.name,E.src=g,r.appendChild(E),r.style.height="".concat(document.documentElement.clientHeight-parseInt(i,10),"px"),r.style.width="".concat(document.documentElement.clientWidth,"px"),document.getElementById("sppCloseBtn").addEventListener("click",n.onHotspotCloseButton);try{I.insertBefore(h,I.childNodes[0]),h.style.display="block"}catch(w){}break;case"DOCUMENT":case"URL":window.open(e.linkUri,"_blank");break;case"LTILINK":var C=n.props,B=C.basePath,k=C.isET1CourseId,b=C.isStudent,D=C.productId,N=C.userId,v=C.bookData,f=C.userName,T=v.bookID||v.id,M=b?"2":"3",A="".concat(B,"?json=").concat(e.linkUri,"&contextid=").concat(D,"&role=").concat(M,"&smsuserid=").concat(N).concat(k,"&bookid=").concat(T,"&username=").concat(f);window.open(A,"_blank");break;default:o=null}return o},n.onHotspotCloseButton=function(){try{var e=document.getElementById("player-iframesppModalBody");e&&e.remove(),document.getElementById("sppModal").style.display="none",n.state.regionData&&n.setState({regionData:null}),p.a.removeElementsByClass("ReactModalPortalAnimated"),document.getElementsByClassName("regionContainer").style.display="none"}catch(t){}},n.state={regionData:null},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.regionData;e&&this.fetchRegionData(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.regionData;this.fetchRegionData(t)}},{key:"render",value:function(){return c.a.createElement(i.Fragment,null,this.state.regionData&&c.a.createElement("div",{className:"regionContainer"},c.a.createElement("button",{type:"button",id:"regionCloseBtn",className:"regionCloseBtn",onClick:this.onHotspotCloseButton},"\xd7"),c.a.createElement("div",{id:"hotspot"},this.renderHotspot(this.state.regionData))),c.a.createElement("div",{id:"sppModal",className:"sppModal",tabIndex:"-1"},c.a.createElement("div",{id:"sppModalHeader",className:"sppModalHeader",style:{height:"".concat(60,"px")}},c.a.createElement("span",{id:"sppCloseBtn",className:"sppCloseBtn"},"\xd7"),c.a.createElement("p",{id:"sppTitle",className:"sppTitle"})),c.a.createElement("div",{id:"sppModalBody",className:"sppModalBody"})))}}]),a}(i.Component);t.default=Object(r.injectIntl)(u)}}]);
//# sourceMappingURL=4.eac3fd78.chunk.js.map